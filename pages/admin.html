<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Admin Login | AI Fitness</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Share+Tech+Mono&family=DM+Sans:wght@300;400;500;600&display=swap" rel="stylesheet">

  <style>
    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       VARIABLES
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    :root {
      --red:        #ff2d2d;
      --red-dim:    rgba(255,45,45,0.12);
      --red-glow:   rgba(255,45,45,0.35);
      --orange:     #ff6b2b;
      --amber:      #ffb347;
      --dark:       #06080c;
      --surface:    #0b0f16;
      --surface-2:  #111822;
      --surface-3:  #16202e;
      --border:     rgba(255,255,255,0.06);
      --border-r:   rgba(255,45,45,0.25);
      --text:       #e8ddd5;
      --muted:      rgba(232,221,213,0.4);
    }

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       RESET
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    *, *::before, *::after { box-sizing: border-box; margin:0; padding:0; }
    html { height: 100%; }

    body {
      font-family: 'DM Sans', sans-serif;
      background: var(--dark);
      color: var(--text);
      min-height: 100vh;
      display: flex;
      overflow: hidden;
    }

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       GLOBAL BG
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    body::before {
      content: '';
      position: fixed; inset: 0;
      background:
        radial-gradient(ellipse 60% 55% at 0%   0%,   rgba(255,45,45,0.09)  0%, transparent 55%),
        radial-gradient(ellipse 50% 50% at 100% 100%, rgba(255,107,43,0.06) 0%, transparent 50%),
        radial-gradient(ellipse 40% 60% at 50%  50%,  rgba(180,0,0,0.04)    0%, transparent 60%);
      pointer-events: none; z-index: 0;
    }

    /* Fine hex-dot grid */
    body::after {
      content: '';
      position: fixed; inset: 0;
      background-image: radial-gradient(circle, rgba(255,45,45,0.07) 1px, transparent 1px);
      background-size: 34px 34px;
      pointer-events: none; z-index: 0;
    }

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       SCAN LINE OVERLAY
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    .scanlines {
      position: fixed; inset: 0;
      background: repeating-linear-gradient(
        0deg,
        transparent,
        transparent 2px,
        rgba(0,0,0,0.08) 2px,
        rgba(0,0,0,0.08) 4px
      );
      pointer-events: none; z-index: 0;
    }

    /* Moving scan beam */
    .scan-beam {
      position: fixed;
      top: -10%;
      left: 0; right: 0;
      height: 6%;
      background: linear-gradient(
        to bottom,
        transparent 0%,
        rgba(255,45,45,0.04) 40%,
        rgba(255,45,45,0.06) 50%,
        rgba(255,45,45,0.04) 60%,
        transparent 100%
      );
      animation: beam 6s linear infinite;
      pointer-events: none; z-index: 1;
    }

    @keyframes beam {
      0%   { top: -10%; }
      100% { top: 110%; }
    }

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       PAGE LAYOUT
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    .page-wrap {
      position: relative; z-index: 2;
      display: flex;
      width: 100%;
      min-height: 100vh;
    }

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       LEFT THREAT PANEL (desktop)
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    .threat-panel {
      display: none;
      width: 42%;
      flex-shrink: 0;
      position: relative;
      overflow: hidden;
      border-right: 1px solid var(--border);
      background: var(--surface);
    }

    /* Diagonal cut */
    .threat-panel::after {
      content: '';
      position: absolute;
      top: 0; right: -2px;
      width: 80px; height: 100%;
      background: linear-gradient(to bottom-right, transparent 49%, var(--dark) 50%);
      pointer-events: none;
    }

    /* Giant ghost text */
    .threat-panel::before {
      content: 'ADMIN';
      font-family: 'Bebas Neue', sans-serif;
      font-size: 28vmax;
      line-height: 1;
      position: absolute;
      bottom: -6%;
      left: -8%;
      color: rgba(255,45,45,0.04);
      letter-spacing: -10px;
      pointer-events: none;
      white-space: nowrap;
    }

    .threat-inner {
      position: relative; z-index: 2;
      height: 100%;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
      padding: 48px 56px;
    }

    /* Brand */
    .threat-brand {
      display: flex;
      flex-direction: column;
      gap: 6px;
    }

    .threat-logo {
      font-family: 'Bebas Neue', sans-serif;
      font-size: 52px;
      letter-spacing: 7px;
      background: linear-gradient(135deg, #fff 0%, var(--amber) 50%, var(--red) 100%);
      -webkit-background-clip: text; -webkit-text-fill-color: transparent;
      background-clip: text;
      filter: drop-shadow(0 0 18px rgba(255,45,45,0.4));
      line-height: 1;
    }

    .threat-sub {
      font-family: 'Share Tech Mono', monospace;
      font-size: 11px;
      letter-spacing: 3px;
      text-transform: uppercase;
      color: var(--muted);
    }

    /* Warning block */
    .warning-block {
      background: rgba(255,45,45,0.06);
      border: 1px solid var(--border-r);
      border-left: 3px solid var(--red);
      border-radius: 8px;
      padding: 18px 20px;
    }

    .warning-block .warn-title {
      font-family: 'Share Tech Mono', monospace;
      font-size: 11px;
      letter-spacing: 2.5px;
      text-transform: uppercase;
      color: var(--red);
      margin-bottom: 10px;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .warn-dot {
      width: 6px; height: 6px;
      background: var(--red);
      border-radius: 50%;
      box-shadow: 0 0 6px var(--red);
      animation: blink 1.4s ease-in-out infinite;
      flex-shrink: 0;
    }

    @keyframes blink {
      0%,100%{ opacity:1; } 50%{ opacity:0.2; }
    }

    .warning-block p {
      font-size: 13px;
      color: var(--muted);
      line-height: 1.6;
    }

    /* Access log */
    .access-log {
      display: flex;
      flex-direction: column;
      gap: 10px;
    }

    .log-label {
      font-family: 'Share Tech Mono', monospace;
      font-size: 10px;
      letter-spacing: 2.5px;
      text-transform: uppercase;
      color: rgba(255,45,45,0.6);
      margin-bottom: 4px;
    }

    .log-row {
      display: flex;
      align-items: center;
      gap: 12px;
      background: var(--surface-2);
      border: 1px solid var(--border);
      border-radius: 8px;
      padding: 10px 14px;
      animation: log-in 0.5s ease both;
    }

    .log-row:nth-child(2) { animation-delay: 0.6s; }
    .log-row:nth-child(3) { animation-delay: 0.75s; }
    .log-row:nth-child(4) { animation-delay: 0.9s; }

    @keyframes log-in {
      from { opacity:0; transform:translateX(-14px); }
      to   { opacity:1; transform:translateX(0); }
    }

    .log-status {
      width: 7px; height: 7px;
      border-radius: 50%;
      flex-shrink: 0;
    }

    .log-status.ok  { background: #00f5c8; box-shadow: 0 0 6px #00f5c8; }
    .log-status.err { background: var(--red); box-shadow: 0 0 6px var(--red); }
    .log-status.wrn { background: var(--amber); box-shadow: 0 0 6px var(--amber); }

    .log-text {
      font-family: 'Share Tech Mono', monospace;
      font-size: 11px;
      color: var(--muted);
      flex: 1;
    }

    .log-time {
      font-family: 'Share Tech Mono', monospace;
      font-size: 10px;
      color: rgba(255,255,255,0.2);
      white-space: nowrap;
    }

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       FORM PANEL
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    .form-panel {
      flex: 1;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: clamp(24px,6vw,80px) clamp(16px,5vw,60px);
    }

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       LOGIN BOX
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    .login-box {
      width: 100%;
      max-width: 400px;
      background: var(--surface);
      border: 1px solid var(--border);
      border-radius: 16px;
      padding: clamp(28px,5vw,44px);
      position: relative;
      overflow: hidden;
      animation: box-in 0.7s cubic-bezier(.22,1,.36,1) both;
      text-align: left;
    }

    @keyframes box-in {
      from { opacity:0; transform:translateY(28px) scale(0.97); }
      to   { opacity:1; transform:translateY(0)    scale(1); }
    }

    /* Red top accent bar */
    .login-box::before {
      content: '';
      position: absolute;
      top:0; left:0; right:0;
      height: 2px;
      background: linear-gradient(90deg, transparent, var(--red) 40%, var(--orange) 80%, transparent);
    }

    /* Corner bracket top-right */
    .login-box::after {
      content: '';
      position: absolute;
      top: 18px; right: 18px;
      width: 44px; height: 44px;
      border-top:  1px solid rgba(255,45,45,0.25);
      border-right:1px solid rgba(255,45,45,0.25);
      border-radius: 0 8px 0 0;
      pointer-events: none;
    }

    /* â”€â”€ Access level badge â”€â”€ */
    .access-badge {
      display: inline-flex;
      align-items: center;
      gap: 7px;
      background: var(--red-dim);
      border: 1px solid var(--border-r);
      border-radius: 5px;
      padding: 5px 12px;
      margin-bottom: 20px;
      font-family: 'Share Tech Mono', monospace;
      font-size: 10px;
      letter-spacing: 2px;
      text-transform: uppercase;
      color: var(--red);
      animation: fade-up 0.5s 0.15s ease both;
    }

    .badge-dot {
      width: 6px; height: 6px;
      background: var(--red);
      border-radius: 50%;
      box-shadow: 0 0 7px var(--red);
      animation: blink 1.4s ease-in-out infinite;
    }

    /* â”€â”€ Heading â”€â”€ */
    .login-box h2 {
      font-family: 'Bebas Neue', sans-serif;
      font-size: clamp(32px,5vw,44px);
      letter-spacing: 3px;
      line-height: 1;
      color: var(--text);
      margin-bottom: 6px;
      animation: fade-up 0.5s 0.2s ease both;
    }

    .login-box h2 span { color: var(--red); }

    .login-box .sub {
      font-family: 'Share Tech Mono', monospace;
      font-size: 11px;
      letter-spacing: 2px;
      color: var(--muted);
      text-transform: uppercase;
      margin-bottom: 28px;
      animation: fade-up 0.5s 0.25s ease both;
    }

    @keyframes fade-up {
      from { opacity:0; transform:translateY(10px); }
      to   { opacity:1; transform:translateY(0); }
    }

    /* â”€â”€ Input groups â”€â”€ */
    .input-group {
      margin-bottom: 14px;
      animation: fade-up 0.5s ease both;
    }

    .input-group:nth-child(1) { animation-delay: 0.28s; }
    .input-group:nth-child(2) { animation-delay: 0.34s; }

    .input-group label {
      display: block;
      font-size: 10px;
      font-weight: 600;
      letter-spacing: 1.5px;
      text-transform: uppercase;
      color: var(--muted);
      margin-bottom: 7px;
      transition: color 0.2s;
    }

    .input-group:focus-within label {
      color: var(--red);
    }

    .input-wrap {
      position: relative;
    }

    .input-icon {
      position: absolute;
      left: 14px; top: 50%;
      transform: translateY(-50%);
      font-size: 14px;
      color: var(--muted);
      pointer-events: none;
      transition: color 0.2s;
      line-height: 1;
    }

    .input-group:focus-within .input-icon {
      color: var(--red);
    }

    input {
      width: 100%;
      height: 46px;
      padding: 0 14px 0 42px;
      background: var(--surface-2);
      border: 1px solid var(--border);
      border-radius: 9px;
      color: var(--text);
      font-family: 'Share Tech Mono', monospace;
      font-size: 13px;
      letter-spacing: 1px;
      outline: none;
      transition: border-color 0.25s, box-shadow 0.25s, background 0.25s;
    }

    input::placeholder {
      color: rgba(232,221,213,0.2);
      font-size: 12px;
      letter-spacing: 1.5px;
    }

    input:focus {
      border-color: var(--red);
      background: rgba(255,45,45,0.04);
      box-shadow:
        0 0 0 3px rgba(255,45,45,0.1),
        0 0 18px rgba(255,45,45,0.06);
    }

    /* â”€â”€ Divider â”€â”€ */
    .form-divider {
      height: 1px;
      background: var(--border);
      margin: 20px 0;
      position: relative;
      animation: fade-up 0.5s 0.38s ease both;
    }

    .form-divider::before {
      content: 'CREDENTIALS REQUIRED';
      position: absolute;
      left: 50%; top: 50%;
      transform: translate(-50%,-50%);
      font-family: 'Share Tech Mono', monospace;
      font-size: 9px;
      letter-spacing: 2px;
      color: rgba(255,45,45,0.4);
      background: var(--surface);
      padding: 0 10px;
      white-space: nowrap;
    }

    /* â”€â”€ Submit button â”€â”€ */
    button {
      width: 100%;
      height: 50px;
      margin-top: 8px;
      background: linear-gradient(135deg, #cc1a1a 0%, var(--red) 50%, var(--orange) 100%);
      border: none;
      border-radius: 10px;
      color: #fff;
      font-family: 'Bebas Neue', sans-serif;
      font-size: 19px;
      letter-spacing: 4px;
      cursor: pointer;
      position: relative;
      overflow: hidden;
      transition: transform 0.2s cubic-bezier(.34,1.56,.64,1), box-shadow 0.2s ease;
      animation: fade-up 0.5s 0.42s ease both;
    }

    button::before {
      content: '';
      position: absolute; inset: 0;
      background: linear-gradient(108deg, transparent 38%, rgba(255,255,255,0.18) 50%, transparent 62%);
      transform: translateX(-130%);
      transition: transform 0.48s ease;
    }

    button:hover {
      transform: translateY(-2px) scale(1.015);
      box-shadow:
        0 6px 30px rgba(255,45,45,0.45),
        0 2px 10px rgba(0,0,0,0.4);
    }

    button:hover::before { transform: translateX(130%); }
    button:active { transform: scale(0.97); }

    /* â”€â”€ Error message â”€â”€ */
    .error {
      font-size: 12.5px;
      font-family: 'Share Tech Mono', monospace;
      letter-spacing: 1px;
      color: var(--red);
      min-height: 18px;
      margin-top: 14px;
      padding: 10px 14px;
      border-radius: 8px;
      transition: all 0.3s ease;
      text-align: center;
    }

    .error:not(:empty) {
      background: rgba(255,45,45,0.07);
      border: 1px solid rgba(255,45,45,0.25);
    }

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       RESPONSIVE
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    @media (min-width: 860px) {
      .threat-panel { display: flex; flex-direction: column; justify-content: space-between; }
    }

    @media (max-width: 480px) {
      .login-box { border-radius: 12px; }
      button { font-size: 17px; }
    }

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       SCROLLBAR
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    ::-webkit-scrollbar { width: 5px; }
    ::-webkit-scrollbar-track { background: var(--dark); }
    ::-webkit-scrollbar-thumb { background: rgba(255,45,45,0.2); border-radius: 4px; }
    ::-webkit-scrollbar-thumb:hover { background: rgba(255,45,45,0.4); }
  </style>
</head>

<body>
  <div class="scanlines"></div>
  <div class="scan-beam"></div>

  <div class="page-wrap">

    <!-- â•â• LEFT THREAT PANEL (desktop only) â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
    <div class="threat-panel">
      <div class="threat-inner">

        <!-- Brand -->
        <div class="threat-brand">
          <div class="threat-logo">Fit Club</div>
          <p class="threat-sub">Admin Control Interface</p>
        </div>

        <!-- Warning -->
        <div class="warning-block">
          <div class="warn-title">
            <span class="warn-dot"></span>
            Restricted Access Zone
          </div>
          <p>This portal is reserved for authorized administrators only. All activity is monitored and logged. Unauthorized access attempts will be reported.</p>
        </div>

        <!-- Access log -->
        <div class="access-log">
          <div class="log-label">// System Log</div>
          <div class="log-row">
            <span class="log-status ok"></span>
            <span class="log-text">Auth service online</span>
            <span class="log-time">00:00:01</span>
          </div>
          <div class="log-row">
            <span class="log-status wrn"></span>
            <span class="log-text">Awaiting credentials</span>
            <span class="log-time">now</span>
          </div>
          <div class="log-row">
            <span class="log-status err"></span>
            <span class="log-text">Access locked â€” verify</span>
            <span class="log-time">â€”</span>
          </div>
        </div>

      </div>
    </div>

    <!-- â•â• FORM PANEL â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
    <div class="form-panel">
      <div class="login-box">

        <div class="access-badge">
          <span class="badge-dot"></span>
          Level 9 Access Required
        </div>

        <h2>ADMIN <span>LOGIN</span></h2>
        <p class="sub">// Secure Authentication Portal</p>

        <div class="input-group">
          <label>Admin Username</label>
          <div class="input-wrap">
            <span class="input-icon">â—ˆ</span>
            <input type="text" id="username" placeholder="ENTER USERNAME" required />
          </div>
        </div>

        <div class="input-group">
          <label>Access Password</label>
          <div class="input-wrap">
            <span class="input-icon">â—‰</span>
            <input type="password" id="password" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢" required />
          </div>
        </div>

        <div class="form-divider"></div>

        <button onclick="adminLogin()">â¬¡ Authenticate Admin</button>

        <div class="error" id="errorMsg"></div>

      </div>
    </div>

  </div>

  <!-- â•â• ORIGINAL JS (zero changes) â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <script>
    // ğŸš€ Auto redirect if already logged in as admin
    const existingToken = localStorage.getItem("token");
    const existingRole  = localStorage.getItem("role");

    if (existingToken && existingRole === "admin") {
      window.location.href = "adminDashboard.html";
    }

    async function adminLogin() {
      const username = document.getElementById("username").value;
      const password = document.getElementById("password").value;
      const errorMsg = document.getElementById("errorMsg");

      errorMsg.textContent = "";

      if (!username || !password) {
        errorMsg.textContent = "Please enter username and password.";
        return;
      }

      try {
        const res = await fetch("http://localhost:5000/api/auth/login", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({ username, password })
        });

        const data = await res.json();

        if (!res.ok) {
          errorMsg.textContent = data.message || "Login failed";
          return;
        }

        // ğŸ”¥ Check if user is admin
        if (!data.user || data.user.role !== "admin") {
          errorMsg.textContent = "Access denied! Not an admin.";
          return;
        }

        // âœ… Save token & role
        localStorage.setItem("token", data.token);
        localStorage.setItem("role", data.user.role);

        // âœ… Redirect to Admin Dashboard
        window.location.href = "adminDashboard.html";

      } catch (err) {
        errorMsg.textContent = "Server error. Try again.";
      }
    }
  </script>
</body>
</html>