<!DOCTYPE html>
<html>
<head>
    <title>Dashboard | AI Fitness</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <style>
        body {
            margin:0;
            font-family: Arial;
            background:#0f0f0f;
            color:white;
        }

        header {
            background:#000;
            padding:15px;
            text-align:center;
            font-size:22px;
            font-weight:bold;
        }

        .logout {
            position:absolute;
            right:20px;
            top:15px;
            background:#ff4b2b;
            padding:6px 12px;
            border:none;
            border-radius:6px;
            color:white;
            cursor:pointer;
        }

        .container {
            padding:20px;
        }

        .week-grid {
            display:grid;
            grid-template-columns: repeat(auto-fit, minmax(200px,1fr));
            gap:15px;
        }

        .day-card {
            background:#1e1e1e;
            padding:15px;
            border-radius:10px;
            text-align:center;
            transition:0.3s;
        }

        .day-card:hover {
            transform:scale(1.05);
            background:#222;
        }

        .today {
            border:2px solid #00ffcc;
            box-shadow:0 0 15px #00ffcc;
        }

        .rest-day {
            background:#3a3a3a;
            color:#ff4b2b;
        }

        .timer-card {
            margin-top:30px;
            background:#1e1e1e;
            padding:20px;
            border-radius:10px;
            text-align:center;
        }

        .timer {
            font-size:40px;
            margin:20px 0;
            color:#00ffcc;
        }

        button {
            padding:10px 20px;
            background:#ff4b2b;
            border:none;
            border-radius:6px;
            color:white;
            cursor:pointer;
        }

        button:hover { opacity:0.8; }
    </style>
</head>

<body>

<header>
    AI Fitness Dashboard
    <button class="logout" onclick="logout()">Logout</button>
</header>

<div class="container">

    <h2>This Week Workout Plan</h2>
    <div class="week-grid" id="weekGrid"></div>

    <div class="timer-card">
        <h3>Workout Timer (1hr 30min)</h3>
        <div class="timer" id="timer">90:00</div>
        <button onclick="startTimer()">Start Workout</button>
    </div>

</div>

<script>

// üîê Protect Dashboard (Only After Login)
// const token = localStorage.getItem("token");

// if (!token) {
//     window.location.href = "login.html";
// }

// üóìÔ∏è Weekly Workout Plan
const workoutPlan = [
    "Chest Day",
    "Back Day",
    "Leg Day",
    "Shoulder Day",
    "Biceps & Triceps",
    "Full Body",
    "Rest Day"
];

const weekGrid = document.getElementById("weekGrid");
const today = new Date().getDay(); // 0=Sunday

function generateWeek() {

    for (let i = 0; i < 7; i++) {

        const date = new Date();
        date.setDate(date.getDate() - date.getDay() + i);

        const dayName = date.toLocaleDateString('en-US', { weekday: 'long' });
        const formattedDate = date.toLocaleDateString();

        const card = document.createElement("div");
        card.classList.add("day-card");

        if (i === today) {
            card.classList.add("today");
        }

        if (workoutPlan[i] === "Rest Day") {
            card.classList.add("rest-day");
        }

        card.innerHTML = `
            <h4>${dayName}</h4>
            <p>${formattedDate}</p>
            <strong>${workoutPlan[i]}</strong>
        `;

        weekGrid.appendChild(card);
    }
}

generateWeek();


// ‚è±Ô∏è Timer (1hr 30min)
let totalTime = 90 * 60;

function startTimer() {

    const timer = setInterval(() => {

        if (totalTime <= 0) {
            clearInterval(timer);
            alert("Workout Complete! üí™");
        }

        let minutes = Math.floor(totalTime / 60);
        let seconds = totalTime % 60;

        document.getElementById("timer").innerText =
            minutes + ":" + (seconds < 10 ? "0" : "") + seconds;

        totalTime--;

    }, 1000);
}

// üö™ Logout
function logout() {
    localStorage.removeItem("token");
    localStorage.removeItem("role");
    window.location.href = "login.html";
}

</script>

</body>
</html>
